{"version":3,"file":"js/513.3192cfe8.js","mappings":"i8fAOIA,OAAcC,EAGlB,SAASC,IACP,MAAMC,EAAOC,OAAOC,SACpB,OAAKF,EAIDH,IAGFA,EAAc,IAAIG,EAAKG,IAAIC,SAASC,EAAAA,EAASC,8CACtCT,IAPPU,EAAAA,WAAIC,OAAOC,EAAAA,EAAKC,EAAE,iCACX,KAQX,CAGO,SAASC,EAAcC,EAAUC,EAAYC,EAAsBC,GACxE,KAAKC,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAMoB,EAAYC,EAAAA,EAAMC,MAAMC,MAAMC,QACpC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQC,UAAUd,EAAUC,EAAYC,EAAsBC,GACvEY,KAAK,CAAEC,KAAMX,IACbY,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAGR,CAGO,SAASC,EAASC,EAASC,GAChC,KAAKtB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAMoB,EAAYC,EAAAA,EAAMC,MAAMC,MAAMC,QACpC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQc,KAAKtB,EAAWoB,EAASC,EAAO,MACjDX,KAAK,CAAEC,KAAMX,IACbY,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAGR,CAGO,SAASK,EAAWH,GACzB,KAAKrB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,OAAKF,EAGE,IAAIyB,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQe,WAAWH,GAC5BI,OACAC,MAAKC,IACJpB,EAAQoB,EAAI,IAEbC,OAAMC,IACLrB,EAAOqB,EAAE,GACT,SAXN,CAaF,CAIO,SAASC,EAAcT,GAC5B,KAAKrB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,OAAKF,EAGE,IAAIyB,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQsB,YAAYV,GAC7BI,OACAC,MAAKC,IACJpB,EAAQoB,EAAI,IAEbC,OAAMC,IACLrB,EAAOqB,EAAE,GACT,SAXN,CAaF,CAOO,SAASG,EAAWX,GACzB,KAAKrB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,OAAKF,EAGE,IAAIyB,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQwB,OAAOZ,GACxBI,OACAC,MAAKC,IACJpB,EAAQoB,EAAI,IAEbC,OAAMC,IACLrB,EAAOqB,EAAE,GACT,SAXN,CAaF,CAGO,SAASK,EAAUb,GACxB,KAAKrB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAMsD,EAAcjC,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQyB,UAAUC,EAAad,GACxCI,OACAC,MAAKC,IACJpB,EAAQoB,EAAI,IAEbC,OAAMC,IACLrB,EAAOqB,EAAE,GACT,GAER,CAGO,SAASjC,EAASyB,GACvB,KAAKrB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,OAAKF,EAGE,IAAIyB,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQ2B,IAAIf,GACrBI,OACAC,MAAKC,IACJpB,EAAQoB,EAAI,IAEbC,OAAMC,IACLrB,EAAOqB,EAAE,GACT,SAXN,CAaF,CAGO,SAASQ,EAAmBhB,EAASiB,EAAOC,GACjD,KAAKvC,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAMsD,EAAcjC,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQ4B,mBAAmBhB,EAASiB,EAAOC,GACpD5B,KAAK,CAAEC,KAAMuB,IACbtB,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAER,CAGO,SAASqB,EAAiBnB,EAASoB,GACxC,KAAKzC,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAMsD,EAAcjC,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQ+B,iBAAiBnB,EAASoB,GAC3C9B,KAAK,CAAEC,KAAMuB,IACbtB,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAER,CAGO,SAASuB,EAAYrB,EAASsB,GACnC,KAAK3C,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAMsD,EAAcjC,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQiC,YAClBrB,EACAsB,EAAMC,OACND,EAAME,KACNF,EAAMG,SACNH,EAAMI,WACgB,IAArBJ,EAAMK,cAAoBC,QAAQ,GACnCN,EAAMO,YAELvC,KAAK,CAAEC,KAAMuB,IACbtB,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAER,CAGO,SAASgC,EAAgB9B,EAASsB,GAEvC,GADA5B,QAAQC,IAAI2B,KACP3C,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAMsD,EAAcjC,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQ0C,gBAClB9B,EACAsB,EAAMS,OACNT,EAAMU,cACNV,EAAMW,aACNX,EAAMY,WACNZ,EAAMa,eACNb,EAAMc,gBAEL9C,KAAK,CAAEC,KAAMuB,IACbtB,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAER,CAIO,SAASuC,EAASrC,EAASC,GAChC,KAAKtB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAM8E,EAAczD,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQmD,UAAUvC,EAASC,GACpCX,KAAK,CAAEC,KAAM+C,IACb9C,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAGR,CAIO,SAAS0C,EAAWxC,EAASC,GAClC,KAAKtB,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAM8E,EAAczD,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQqD,YAAYzC,EAASC,GACtCX,KAAK,CAAEC,KAAM+C,IACb9C,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAER,CAIO,SAAS4C,EAAiB1C,GAC/B,MAAMxC,EAAcE,IACpB,GAAKF,EAGL,OAAO,IAAIyB,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQuD,mBAAmB3C,GACpCI,OACAC,MAAKC,IACJpB,EAAQoB,EAAI,IAEbC,OAAMC,IACLrB,EAAOqB,EAAE,GACT,GAER,CAGO,SAASoC,EAAgB5C,GAC9B,MAAMxC,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAM8E,EAAczD,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQyD,gBAAgBP,EAAatC,GAC9CI,OACAC,MAAKC,IACJpB,EAAQoB,EAAI,IAEbC,OAAMC,IACLrB,EAAOqB,EAAE,GACT,GAER,CAIO,SAASsC,EAAYC,GAC1B,KAAKpE,EAAAA,EAAAA,MACH,OAEF,MAAMnB,EAAcE,IACpB,IAAKF,EACH,OAEF,MAAM8E,EAAczD,EAAAA,EAAMC,MAAMC,MAAMC,QACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3B3B,EAAY4B,QAAQ4D,kBAAkBD,GAAU,GAC7CzD,KAAK,CAAEC,KAAM+C,IACb9C,GAAG,mBAAoBC,IACtBC,QAAQC,IAAI,mBAAoBF,EAAK,IAEtCD,GAAG,WAAYI,IACdV,EAAQU,EAAQ,IAEjBJ,GAAG,SAAUK,IACZV,EAAOU,EAAMC,QAAQ,GACrB,GAER,C","sources":["webpack://DOUJI.AI/./src/utils/web3/nft.js"],"sourcesContent":["import nft from '@/assets/abi/nft.json'\r\nimport i18n from '@/i18n'\r\nimport store from '@/store'\r\nimport Vue from 'vue'\r\nimport { checkAccount } from './chain'\r\n\r\n\r\nvar nftContract = undefined\r\n\r\n/** 获取NFT合约 */\r\nfunction getNFTContract() {\r\n  const web3 = window.ethereum\r\n  if (!web3) {\r\n    Vue.$toast(i18n.t('common.need_reconnect_wallet'))\r\n    return null\r\n  }\r\n  if (nftContract) {\r\n    return nftContract\r\n  } else {\r\n    nftContract = new web3.eth.Contract(nft.abi, process.env.VUE_APP_NFT)\r\n    return nftContract\r\n  }\r\n}\r\n\r\n/** 创作者铸造NFT */\r\nexport function possessorMint(tokenURI, initAmount, priceTokenIdOrAmount, maxSupply) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const toAddress = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.authorise(tokenURI, initAmount, priceTokenIdOrAmount, maxSupply)\r\n      .send({ from: toAddress })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n\r\n}\r\n\r\n/** 其他用户mint NFT */\r\nexport function userMint(tokenId, count) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const toAddress = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.mint(toAddress, tokenId, count, '0x')\r\n      .send({ from: toAddress })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n\r\n}\r\n\r\n/** 查询DaoRule */\r\nexport function getDaoRule(tokenId) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.getDaoRule(tokenId)\r\n      .call()\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(e => {\r\n        reject(e)\r\n      })\r\n  })\r\n}\r\n\r\n\r\n/** 查询TokenOwner */\r\nexport function getTokenOwner(tokenId) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.tokenOwners(tokenId)\r\n      .call()\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(e => {\r\n        reject(e)\r\n      })\r\n  })\r\n}\r\n\r\n/**\r\n * nft信息查询\r\n * @param {*} tokenId \r\n * @returns \r\n */\r\nexport function tokensData(tokenId) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.tokens(tokenId)\r\n      .call()\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(e => {\r\n        reject(e)\r\n      })\r\n  })\r\n}\r\n\r\n/** 获取余额 */\r\nexport function balanceOf(tokenId) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const userAccount = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.balanceOf(userAccount, tokenId)\r\n      .call()\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(e => {\r\n        reject(e)\r\n      })\r\n  })\r\n}\r\n\r\n/** 获取metaURI */\r\nexport function tokenURI(tokenId) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.uri(tokenId)\r\n      .call()\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(e => {\r\n        reject(e)\r\n      })\r\n  })\r\n}\r\n\r\n/** update-step1 */\r\nexport function startSetTokenPrice(tokenId, price, availableSupply) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const userAccount = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.startSetTokenPrice(tokenId, price, availableSupply)\r\n      .send({ from: userAccount })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n}\r\n\r\n/** update-step2 */\r\nexport function startSetTokenURI(tokenId, url) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const userAccount = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.startSetTokenURI(tokenId, url)\r\n      .send({ from: userAccount })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n}\r\n\r\n/** update-sale */\r\nexport function startSetNsp(tokenId, param) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const userAccount = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.startSetNsp(\r\n      tokenId,\r\n      param.isOpen,\r\n      param.type,\r\n      param.contract,\r\n      param.discounts,\r\n      (param.discountsFee * 100).toFixed(0),\r\n      param.disTokenId\r\n    )\r\n      .send({ from: userAccount })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n}\r\n\r\n/** update-dao */\r\nexport function startSetDaoRule(tokenId, param) {\r\n  console.log(param)\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const userAccount = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.startSetDaoRule(\r\n      tokenId,\r\n      param.daoFee,\r\n      param.daoCreatorFee,\r\n      param.daoHolderFee,\r\n      param.mVoteCount,\r\n      param.creatorAddress,\r\n      param.curCreatorFees\r\n    )\r\n      .send({ from: userAccount })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n}\r\n\r\n\r\n/** stake NFT */\r\nexport function stakeNft(tokenId, count) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const fromAddress = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.pledgeNft(tokenId, count)\r\n      .send({ from: fromAddress })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n\r\n}\r\n\r\n\r\n/** 取回 NFT */\r\nexport function unStakeNft(tokenId, count) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const fromAddress = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.unPledgeNft(tokenId, count)\r\n      .send({ from: fromAddress })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n}\r\n\r\n\r\n/** 总质押数量 */\r\nexport function totalPledgeCount(tokenId) {\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.pledgeAllBalanceOf(tokenId)\r\n      .call()\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(e => {\r\n        reject(e)\r\n      })\r\n  })\r\n}\r\n\r\n/** 我的质押数量 */\r\nexport function userPledgeCount(tokenId) {\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const fromAddress = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.pledgeBalanceOf(fromAddress, tokenId)\r\n      .call()\r\n      .then(res => {\r\n        resolve(res)\r\n      })\r\n      .catch(e => {\r\n        reject(e)\r\n      })\r\n  })\r\n}\r\n\r\n\r\n/** 授权 NFT */\r\nexport function nftApproval(operator) {\r\n  if (!checkAccount()) {\r\n    return\r\n  }\r\n  const nftContract = getNFTContract()\r\n  if (!nftContract) {\r\n    return\r\n  }\r\n  const fromAddress = store.state.chain.account\r\n  return new Promise((resolve, reject) => {\r\n    nftContract.methods.setApprovalForAll(operator, true)\r\n      .send({ from: fromAddress })\r\n      .on('transactionHash', (hash) => {\r\n        console.log('transactionHash:', hash)\r\n      })\r\n      .on('receipt', (receipt) => {\r\n        resolve(receipt)\r\n      })\r\n      .on('error', (error) => {\r\n        reject(error.message)\r\n      })\r\n  })\r\n}\r\n"],"names":["nftContract","undefined","getNFTContract","web3","window","ethereum","eth","Contract","nft","process","Vue","$toast","i18n","t","possessorMint","tokenURI","initAmount","priceTokenIdOrAmount","maxSupply","checkAccount","toAddress","store","state","chain","account","Promise","resolve","reject","methods","authorise","send","from","on","hash","console","log","receipt","error","message","userMint","tokenId","count","mint","getDaoRule","call","then","res","catch","e","getTokenOwner","tokenOwners","tokensData","tokens","balanceOf","userAccount","uri","startSetTokenPrice","price","availableSupply","startSetTokenURI","url","startSetNsp","param","isOpen","type","contract","discounts","discountsFee","toFixed","disTokenId","startSetDaoRule","daoFee","daoCreatorFee","daoHolderFee","mVoteCount","creatorAddress","curCreatorFees","stakeNft","fromAddress","pledgeNft","unStakeNft","unPledgeNft","totalPledgeCount","pledgeAllBalanceOf","userPledgeCount","pledgeBalanceOf","nftApproval","operator","setApprovalForAll"],"sourceRoot":""}